message(STATUS "Configuring API")

# Config
set(AUTOGEN_CPP "${CMAKE_CURRENT_SOURCE_DIR}/autogen.cpp")

# Configure target
message(STATUS "Configuring API target...")
target_sources("${CLARI}" PRIVATE
	"${AUTOGEN_CPP}"
    signal_handler.cpp
    py_shim_code.cpp
    exceptions.cpp
	backtrace.cpp
	simplify.cpp
	globals.cpp
    manual.cpp
	py_obj.cpp
	log.cpp
)

# Code quality exceptions for auto-generated code
message(STATUS "Permitting and suppressing warnings for auto-generated code...")
set_source_files_properties(${AUTOGEN_CPP} PROPERTIES COMPILE_FLAGS "-Wno-error -w")
message("Autogenerated API code configured!")
set_source_files_properties(
		"${AUTOGEN_CPP}"
		TARGET_DIRECTORY "${CLARI}" # Properties are scoped by directory so this is needed
		PROPERTIES COMPILE_FLAGS "-Wno-error -w"
)
